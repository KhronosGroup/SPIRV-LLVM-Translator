119734787 65536 393230 54 0 
2 Capability Addresses 
2 Capability Linkage 
2 Capability Kernel 
2 Capability Int64 
2 Capability Int8 
10 Extension "SPV_KHR_no_integer_wrap_decoration"
5 ExtInstImport 1 "OpenCL.std"
3 MemoryModel 2 2 
5 EntryPoint 6 10 "Add" 
12 String 51 "kernel_arg_type.Add.int*,int*,int*,int,"
3 Source 3 102000 
11 Name 5 "__spirv_BuiltInGlobalInvocationId"
3 Name 11 "a"
3 Name 12 "b"
3 Name 13 "c"
4 Name 14 "size"
4 Name 15 "entry"
4 Name 16 "if.then"
4 Name 17 "if.end"
4 Name 19 "a.addr"
4 Name 20 "b.addr"
4 Name 21 "c.addr"
5 Name 23 "size.addr"
3 Name 24 "n"
4 Name 29 "call"
4 Name 30 "conv"
3 Name 34 "cmp"
4 Name 37 "idxprom"
5 Name 38 "arrayidx"
5 Name 42 "idxprom2"
5 Name 43 "arrayidx3"
3 Name 45 "add"
5 Name 48 "idxprom4"
5 Name 49 "arrayidx5"
4 Decorate 52 Alignment 4 
2 DecorationGroup 52 
4 Decorate 53 Alignment 8 
2 DecorationGroup 53 
4 Decorate 5 BuiltIn 28 
3 Decorate 5 Constant 
13 Decorate 5 LinkageAttributes "__spirv_BuiltInGlobalInvocationId" Import 
3 Decorate 45 NoSignedWrap 
4 GroupDecorate 52 23 24 
5 GroupDecorate 53 19 20 21 
4 TypeInt 2 64 0 
4 TypeInt 7 32 0 
4 TypeInt 25 8 0 
4 TypeVector 3 2 3 
4 TypePointer 4 1 3 
2 TypeVoid 6 
4 TypePointer 8 5 7 
7 TypeFunction 9 6 8 8 8 7 
4 TypePointer 18 7 8 
4 TypePointer 22 7 7 
4 TypePointer 26 7 25 
2 TypeBool 33 
4 Variable 4 5 1 


5 Function 6 10 0 9 
3 FunctionParameter 8 11 
3 FunctionParameter 8 12 
3 FunctionParameter 8 13 
3 FunctionParameter 7 14 

2 Label 15 
4 Variable 18 19 7 
4 Variable 18 20 7 
4 Variable 18 21 7 
4 Variable 22 23 7 
4 Variable 22 24 7 
5 Store 19 11 2 8 
5 Store 20 12 2 8 
5 Store 21 13 2 8 
5 Store 23 14 2 4 
4 Bitcast 26 27 24 
3 LifetimeStart 27 4 
4 Load 3 28 5 
5 CompositeExtract 2 29 28 0 
4 UConvert 7 30 29 
5 Store 24 30 2 4 
6 Load 7 31 24 2 4 
6 Load 7 32 23 2 4 
5 SLessThan 33 34 31 32 
4 BranchConditional 34 16 17 

1 Nop 
2 Label 16 
6 Load 8 35 19 2 8 
6 Load 7 36 24 2 4 
4 SConvert 2 37 36 
5 InBoundsPtrAccessChain 8 38 35 37 
6 Load 7 39 38 2 4 
6 Load 8 40 20 2 8 
6 Load 7 41 24 2 4 
4 SConvert 2 42 41 
5 InBoundsPtrAccessChain 8 43 40 42 
6 Load 7 44 43 2 4 
5 IAdd 7 45 39 44 
6 Load 8 46 21 2 8 
6 Load 7 47 24 2 4 
4 SConvert 2 48 47 
5 InBoundsPtrAccessChain 8 49 46 48 
5 Store 49 45 2 4 
2 Branch 17 

2 Label 17 
4 Bitcast 26 50 24 
3 LifetimeStop 50 4 
1 Return 

1 FunctionEnd 


; RUN: llvm-spirv %s -to-binary -o %t.spv
; RUN: llvm-spirv -r %t.spv -o %t.bc
; RUN: llvm-dis %t.bc -o - | llvm-as | llvm-spirv -spirv-text | FileCheck %s

; CHECK: Capability 
; CHECK-NOT: Nop 
